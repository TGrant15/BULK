<!DOCTYPE HTML>
<html>
<head>
<title>Edit Profile</title>
<meta name="viewport" content="width=device-width, maximum-scale=1, user-scalable=no" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.19.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="css/app.css" />
<link href='http://fonts.googleapis.com/css?family=Roboto:400,100,300' rel='stylesheet' type='text/css'>
</head>
<body>

<div id='changeScheduleButton' class='button raised blue' style="font-size: 13px">
<div class='center' fit>Change Schedule</div>
<paper-ripple fit></paper-ripple>
</div>

<div id='editFoodPrefButton' class='button raised blue' style="font-size: 13px; width:200px">
<div class='center' fit>Change Food Preference</div>
<paper-ripple fit></paper-ripple>
</div>


<div id='saveProfileButton' class='button raised green'>
<div class='center' fit>Save Changes</div>
<paper-ripple fit></paper-ripple>
</div>

<script>
Parse.initialize("AXss0hVCmQ3tmDsGCV0KD3Xn9yUL39BPJcGQGV7P", "IddscOVmXbWcUGqZCJWXj1bM8SXp2iJS2sA7Lz9b");

	$("#saveProfileButton").click(function(){
		updateProfile();
		window.location = "workout.html";

	})

	$("#changeScheduleButton").click(function(){
		window.location = "changeSchedule.html";
	})

	$("#editFoodPrefButton").click(function(){
		window.location = "editFoodPref.html";
	})

	function updateProfile()
	{
		var User = Parse.Object.extend("User");
		var query = new Parse.Query(User);
		query.get(localStorage["currentID"],{
			  success: function(userInfo) {
				  userInfo.set("Monday", localStorage["mondayFlag"]);
				  userInfo.set("Tuesday", localStorage["tuesdayFlag"]);
				  userInfo.set("Wednesday", localStorage["wednesdayFlag"]);
				  userInfo.set("Thrusday", localStorage["thrusdayFlag"]);
				  userInfo.set("Friday", localStorage["fridayFlag"]);
				  userInfo.set("Saturday", localStorage["saturdayFlag"]);
				  userInfo.set("Sunday", localStorage["sundayFlag"]);
				  userInfo.set("daysPerWeek", localStorage["daysPerWeek"]);
				  userInfo.save().then(function(){
					  alert("updated");
				  });

			  },
			  error: function(object, error) {
			    // The object was not retrieved successfully.
			    // error is a Parse.Error with an error code and message.
			  }
			});

	}
</script>

</body>
</html>